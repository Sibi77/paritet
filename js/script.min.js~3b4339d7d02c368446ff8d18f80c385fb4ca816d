function openCity(e,t){var n,a,i;for(a=document.getElementsByClassName("tabcontent"),n=0;n<a.length;n++)a[n].style.display="none";for(i=document.getElementsByClassName("tablinks"),n=0;n<i.length;n++)i[n].className=i[n].className.replace(" active","");document.getElementById(t).style.display="block",e.currentTarget.className+=" active"}function phoneMaskAndValidationInit(){$('input[id="id-2"]').attr("type","tel")}var Modal=function(){function e(e){return document.querySelectorAll(e)}var t=e(".pir-play-modal"),n=e(".modal"),a=e(".modal__bg"),i=e(".modal__content"),o=e(".modal__close"),r=window,s=!1,l=400,c=t.length,d=function(e){e.preventDefault();var t=this,n=t.dataset.modal,a=n.length,i=n.substring(1,a),o=document.getElementById(i);u(t,o)},u=function(e,t){if(null===document.getElementById("modal__temp")){var n=document.createElement("div");n.id="modal__temp",e.appendChild(n),p(e,t,n)}},p=function(e,t,n){var a,i,o,s,c=e.getBoundingClientRect(),d=t,u=d.querySelector(".modal__content").getBoundingClientRect(),p=r.innerWidth/2,f=r.innerHeight/2;e.classList.add("modal__trigger--active"),o=u.width/c.width,s=u.height/c.height,o=o.toFixed(3),s=s.toFixed(3),a=Math.round(p-c.left-c.width/2),i=Math.round(f-c.top-c.height/2),d.classList.contains("modal--align-top")&&(i=Math.round(u.height/2+u.top-c.top-c.height/2)),e.style.transform="translate("+a+"px, "+i+"px)",e.style.webkitTransform="translate("+a+"px, "+i+"px)",n.style.transform="scale("+o+","+s+")",n.style.transform="borderRadius("+o+","+s+")",n.style.webkitTransform="scale("+o+","+s+")",window.setTimeout(function(){window.requestAnimationFrame(function(){m(d,n)})},l)},m=function(e,t){function n(){t.style.opacity="0",a.removeEventListener("transitionend",n,!1)}if(!s){var a=e.querySelector(".modal__content");e.classList.add("modal--active"),a.classList.add("modal__content--active"),a.addEventListener("transitionend",n,!1),s=!0}},f=function(e){function a(){setTimeout(function(){window.requestAnimationFrame(function(){r.remove()})},l-50)}e.preventDefault(),e.stopImmediatePropagation();var o=e.target,r=document.getElementById("modal__temp");if(s&&o.classList.contains("modal__bg")||o.classList.contains("modal__close")){r.style.opacity="1",r.removeAttribute("style");for(var d=0;d<c;d++)n[d].classList.remove("modal--active"),i[d].classList.remove("modal__content--active"),t[d].style.transform="none",t[d].style.webkitTransform="none",t[d].classList.remove("modal__trigger--active");r.addEventListener("transitionend",a,!1),s=!1}},h=function(){for(var e=0;e<c;e++)t[e].addEventListener("click",d,!1),o[e].addEventListener("click",f,!1),a[e].addEventListener("click",f,!1)};return{init:function(){h()}}}();Modal.init(),$(function(){function e(e){var t=$(".mobile-menu .not-href-mobile").children("a");$(document).width()<767&&t.click(function(){$(this).removeAttr("href").toggleClass("menu-active"),$(this).siblings(".sub-menu").toggleClass("visible-menu")})}function t(){N.is(":visible")?$(document).width()<480?p.css({top:"53px"}):p.css({top:"45px"}):p.css({top:"0"}),$(document).on("click",".popup-header__close",function(){$.cookie("popupHide","popup-hide",{expires:1,path:"/"}),$.cookie("navWrapTop","nav-wrap-top",{expires:1,path:"/"}),N.addClass("popup-hide"),p.addClass("nav-wrap-top")})}function n(){var e=$('[for="id-3"]'),t=e.text().replace(new RegExp("не обязательно","g"),"<span class='not-necessary'>не обязательно</span>");e.html(t)}function a(){$(document).on("click",".tile-price__wrap .pir-btn",function(){var e=$(this).siblings("h3").text().trim();q.val(e+A)})}function i(){$(document).on("click",".title-icon_wrap",function(){var e="Регистрация АО"+A;q.val(e)})}function o(){g.hasClass("mega-menu-active")&&(g.removeClass("mega-menu-active"),w.removeClass("mega-menu-wrap-active"),u.css({overflow:"auto"}))}function r(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent,n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");return null!=n.exec(t)&&(e=parseFloat(RegExp.$1)),!1}if("Netscape"==navigator.appName){var t=navigator.userAgent,n=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");null!=n.exec(t)&&(e=parseFloat(RegExp.$1))}return e}function s(){var e=document.location.href;$.each($(".pir-menu-desk a"),function(){this.href==e&&$(this).addClass("active")})}function l(){var e=document.location.href.trim();$.each($(".pir-search__filter-btn a"),function(){this.href.trim()===e&&$(this).addClass("active")})}var c=$(".pir-hamburger"),d=$(".pir-menu"),u=$("body"),p=$(".pir-nav-wrap"),m=$(".pir-head"),f=$(".pir-carousel__wrap"),h=$(".pir-accordion__wrap"),v=$(".swipe-menu"),g=$(".mega-menu"),w=$(".pir-mega-menu-wrap"),_=$(".pir-footer__office"),C=$(".pir-about__counter .pir-about__counter--num"),y=1,b=$(".animation-scroll"),k=$(".bread-crumbs"),x=$(".pir-head-content").height(),E=$(".pir-prev-page"),T=$(".pir-table"),L=$(".pir-table__table tbody tr"),I=$(".table-counter"),N=$(".popup-header"),q=($(".wpadminbar"),$("#id-3")),A=". Скидка 15%";if(e(),$(window).resize(function(){}),t(),$(window).resize(function(){t()}),E.css({top:x-25+"px"}),a(),i(),n(),$(document).on("click",".pir-hamburger",function(e){e.preventDefault(),d.hasClass("pir-menu__active")?(c.removeClass("pir-hamburger--open"),d.removeClass("pir-menu__active"),u.css({overflow:"auto"}),d.animate({left:"-100%",opacity:"0"},500)):(c.addClass("pir-hamburger--open"),d.addClass("pir-menu__active"),u.css({overflow:"hidden"}),d.animate({left:"0",opacity:"1"},500),$(this).css({color:"#000"}))}),window.innerWidth<768&&(v.swipe({swipeRight:function(){d.addClass("pir-menu__active"),c.addClass("pir-hamburger--open"),$(this).css({overflow:"hidden"}),d.animate({left:"0",opacity:"1"},500)}}),u.swipe({swipeLeft:function(){$(this).css({overflow:"auto"}),d.removeClass("pir-menu__active"),c.removeClass("pir-hamburger--open"),d.animate({left:"-100%",opacity:"0"},500)}})),window.innerWidth<1200&&($(".facts__wrap").owlCarousel({loop:!1,nav:!1,dots:!1,autoplay:!1,center:!1,autoWidth:!0,responsive:{0:{items:1},992:{items:2},1e3:{items:3}}}),$(".pir-projects__wrap").owlCarousel({loop:!1,nav:!1,dots:!1,autoplay:!1,autoWidth:!0,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}})),window.resize&&$(".facts__wrap").owlCarousel({loop:!1,nav:!1,dots:!1,autoplay:!1,center:!1,autoWidth:!0,responsive:{0:{items:1},992:{items:2},1e3:{items:3}}}),$(window).scroll(function(){var e=$(window).scrollTop();if($(document).width()>480){if(g.hasClass("mega-menu-active"))return!1;e>=58?p.addClass("pir-nav-fixed"):(p.removeClass("pir-nav-fixed"),m.css({}))}else e>=20?p.addClass("pir-nav-fixed"):(p.removeClass("pir-nav-fixed"),m.css({}));e>=x?k.addClass("not-transparent"):k.removeClass("not-transparent"),e>=T.height()?E.hide():E.show(),window.outerWidth>992&&b.each(function(){$(this).css("opacity","0"),$(this).offset().top<$(window).scrollTop()+900&&$(this).addClass("animated fadeInUp").css("opacity","1")}),C.each(function(){var e=$(window).scrollTop();$(this).offset().top<e+700&&y<2&&$(".pir-about__counter--num").each(function(){$(this).addClass("pir-about__counter--viz");var e=1,t=$(this).data("num"),n=2e3/t,a=$(this),i=setInterval(function(){e<=t?a.html(e):(y+=2,clearInterval(i)),e++},n)})})}),f.owlCarousel({loop:!0,margin:10,nav:!1,dots:!0,autoplay:!1,autoplayTimeout:1e4,navText:"",responsive:{0:{items:1},600:{items:1,margin:0},1e3:{items:1}}}),$(document).on("click",".pir-accordion",function(e){e.preventDefault(),h.slideToggle()}),$(document).on("click",".mega-menu",function(e){e.preventDefault(),g.toggleClass("mega-menu-active"),w.toggleClass("mega-menu-wrap-active"),p.addClass("pir-nav-fixed")}),$(document).on("keydown",function(e){27===e.keyCode&&o()}),$(document).on("click",".pir-mega-menu-wrap__close-menu",function(e){o()}),$(".pir-footer__office:first").show(),$(document).on("change",".custom-dropdown select",function(){var e=$(this).find("option:selected").data("id");_.each(function(){e===$(this).data("id")?$(this).show():$(this).hide()})}),$(document).on("click",".pir-panel-group .panel-heading",function(){var e=$(this).siblings(".pir-panel-group .panel-body");$(this).toggleClass("active"),e.slideToggle()}),$(document).on("click",".pir-scroll-arrow,  .form-request, .signature-type",function(e){e.preventDefault();var t=$(this).attr("href"),n=$(t).offset().top;$("body,html").animate({scrollTop:n},1e3)}),I.text(L.length),$(document).on("keyup",".pir-search__search",function(){_this=this,$.each(L,function(){-1===$(this).text().toLowerCase().indexOf($(_this).val().toLowerCase())?$(this).hide():$(this).show()})}),"/no-ie/"===document.location.pathname)return!1;-1!==r()&&(document.location.href="/no-ie/"),s(),l()}),$(function(){var e=$('input[id="id-2"]');e.attr("type","tel").attr("id","phone").attr("data-constraint","");var t=$('label[for="id-2"]');t.attr("for","phone"),e.intlTelInput({autoPlaceholder:!0,defaultCountry:"ru",onlyCountries:["ru"],preferredCountries:["ru"]}),$(document).on("keyup blur","#phone",function(){$(this).valid(),$(this).intlTelInput("isValidNumber")||($(this).addClass("error"),t.removeClass("ok"))}),$(document).on("keyup blur",".mini-phone input",function(){$(this).valid(),$(this).intlTelInput("isValidNumber")||($(this).addClass("error"),t.removeClass("ok"))}),$(document).on("blur keyup","#id-1",function(){$(this).valid()}),$(document).on("keydown","#phone",function(){$(this).removeClass("error"),t.addClass("ok")}),$(document).on("keydown",".inputMiniForm input",function(){$(this).removeClass("error"),t.addClass("ok")}),$(".fw_form_fw_form").validate({errorElement:"small",errorClass:"help-block",errorPlacement:function(e,t){"aut_privacy"===t.attr("name")?e.insertBefore(t.parent()):e.insertAfter(t)},rules:{phone:{required:!0,validatePhone:!0},aut_privacy:{required:!0}},messages:{phone:"Номер указан некорректно!"}}),$(document).on("click",".pir-modal-success .pir-btn",function(){$(".pir-modal-success").fadeOut(),$(".form-wrapper").parents(".fw-main-row ").removeClass("pir-main-form")}),$(document).mouseup(function(e){0===$(".pir-main-form").has(e.target).length&&($(".form-wrapper").parents(".fw-main-row ").removeClass("pir-main-form"),$(".pir-modal-success").fadeOut())}),$(".fw_form_fw_form").on("submit",function(){var e=$(this),t=e.find(".pir-btn-submit"),n=e.serialize(),a=$(".pir-modal-success"),i=$(".pir-modal-success__body p");return loader='<img class="loader" src="'+lawData.themePath+'/img/loader.gif">',!(!$(this).valid()||0==$("#phone").val().length||!$("#phone").intlTelInput("isValidNumber"))&&($.ajax({type:"POST",data:n,beforeSend:function(){t.attr("disabled",!0),a.removeClass("error-form"),i.text("Наш специалист перезвонит вам в течении 10 минут"),t.after(loader)},success:function(n){$(".form-wrapper").parents(".fw-main-row ").addClass("pir-main-form"),a.fadeIn(300,function(){if(n.success)a.addClass("pir-active-modal"),e[0].reset();else{a.addClass("alert-danger");var t="";for(var i in n.data.errors)t+=n.data.errors[i]+"<br>";a.html(t)}}),$(".loader").remove(),t.attr("disabled",!1),e.find("input").removeClass("valid")}}),!1)})}),jQuery.extend(jQuery.validator.messages,{required:"Это поле обязательное для заполнения"});